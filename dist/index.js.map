{"version":3,"file":"index.js","sources":["../node_modules/shortid/lib/random/random-from-seed.js","../node_modules/shortid/lib/alphabet.js","../node_modules/rollup-plugin-node-builtins/src/es6/empty.js","../node_modules/nanoid/random.js","../node_modules/shortid/lib/random/random-byte.js","../node_modules/nanoid/format.js","../node_modules/shortid/lib/generate.js","../node_modules/shortid/lib/build.js","../node_modules/shortid/lib/is-valid.js","../node_modules/shortid/lib/util/cluster-worker-id.js","../node_modules/shortid/lib/index.js","../node_modules/shortid/index.js","../src/utils/constants.js","../node_modules/style-inject/dist/style-inject.es.js","../src/Box.js","../src/utils/helpers.js","../src/AlignmentGuides.js","../src/index.js"],"sourcesContent":["'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nfunction get () {\n  return alphabet || ORIGINAL;\n}\n\nmodule.exports = {\n    get: get,\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n","export default {};\n","var crypto = require('crypto')\n\nif (crypto.randomFillSync) {\n  var buffers = { }\n  module.exports = function (bytes) {\n    var buffer = buffers[bytes]\n    if (!buffer) {\n      buffer = Buffer.allocUnsafe(bytes)\n      if (bytes <= 255) buffers[bytes] = buffer\n    }\n    return crypto.randomFillSync(buffer)\n  }\n} else {\n  module.exports = crypto.randomBytes\n}\n","module.exports = require('nanoid/random');\n","/**\n * Secure random string generator with custom alphabet.\n *\n * Alphabet must contain 256 symbols or less. Otherwise, the generator\n * will not be secure.\n *\n * @param {generator} random The random bytes generator.\n * @param {string} alphabet Symbols to be used in new random string.\n * @param {size} size The number of symbols in new random string.\n *\n * @return {string} Random string.\n *\n * @example\n * const format = require('nanoid/format')\n *\n * function random (size) {\n *   const result = []\n *   for (let i = 0; i < size; i++) {\n *     result.push(randomByte())\n *   }\n *   return result\n * }\n *\n * format(random, \"abcdef\", 5) //=> \"fbaef\"\n *\n * @name format\n * @function\n */\nmodule.exports = function (random, alphabet, size) {\n  var mask = (2 << Math.log(alphabet.length - 1) / Math.LN2) - 1\n  var step = Math.ceil(1.6 * mask * size / alphabet.length)\n  size = +size\n\n  var id = ''\n  while (true) {\n    var bytes = random(step)\n    for (var i = 0; i < step; i++) {\n      var byte = bytes[i] & mask\n      if (alphabet[byte]) {\n        id += alphabet[byte]\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\n/**\n * @callback generator\n * @param {number} bytes The number of bytes to generate.\n * @return {number[]} Random bytes.\n */\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar random = require('./random/random-byte');\nvar format = require('nanoid/format');\n\nfunction generate(number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + format(random, alphabet.get(), 1);\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = generate;\n","'use strict';\n\nvar generate = require('./generate');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + generate(version);\n    str = str + generate(clusterWorkerId);\n    if (counter > 0) {\n        str = str + generate(counter);\n    }\n    str = str + generate(seconds);\n    return str;\n}\n\nmodule.exports = build;\n","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var nonAlphabetic = new RegExp('[^' +\n      alphabet.get().replace(/[|\\\\{}()[\\]^$+*?.-]/g, '\\\\$&') +\n    ']');\n    return !nonAlphabetic.test(id);\n}\n\nmodule.exports = isShortId;\n","'use strict';\n\nvar cluster = require('cluster');\n\nvar clusterId = 0;\nif (!cluster.isMaster && cluster.worker) {\n    clusterId = cluster.worker.id;\n}\nmodule.exports = parseInt(process.env.NODE_UNIQUE_ID || clusterId, 10);\n","'use strict';\n\nvar alphabet = require('./alphabet');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.isValid = isValid;\n","'use strict';\nmodule.exports = require('./lib/index');\n","// Key map for changing the position and size of draggable boxes\n// Key map follows the Mousetrap syntax: https://craig.is/killing/mice\nexport const KEY_MAP = {\n\tMOVE_LEFT_1_PX: 'left',\n\tMOVE_RIGHT_1_PX: 'right',\n\tMOVE_UP_1_PX: 'up',\n\tMOVE_DOWN_1_PX: 'down',\n\tMOVE_LEFT_10_PX: 'shift+left',\n\tMOVE_RIGHT_10_PX: 'shift+right',\n\tMOVE_UP_10_PX: 'shift+up',\n\tMOVE_DOWN_10_PX: 'shift+down'\n};\n\n// Positions for resize handles\nexport const RESIZE_HANDLES = ['tr', 'tl', 'br', 'bl'];\n\n// Positions for rotate handles\nexport const ROTATE_HANDLES = ['tr', 'tl', 'br', 'bl'];\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport shortid from 'shortid';\nimport { RESIZE_HANDLES } from './utils/constants';\nimport styles from './styles.scss';\n\nclass Box extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\twidth: props.position ? props.position.width : props.defaultPosition.width,\n\t\t\theight: props.position ? props.position.height : props.defaultPosition.height,\n\t\t\ttop: props.position ? props.position.top : props.defaultPosition.top,\n\t\t\tleft: props.position ? props.position.left : props.defaultPosition.left\n\t\t};\n\n\t\tthis.dragging = false;\n\t\tthis.resizing = false;\n\n\t\tthis.box = React.createRef();\n\t\tthis.onDragStart = this.onDragStart.bind(this);\n\t\tthis.shortcutHandler = this.shortcutHandler.bind(this);\n\t\tthis.onResizeStart = this.onResizeStart.bind(this);\n\t}\n\n\tonDragStart(e) {\n\t\tconst { target } = e;\n\t\tconst startingPosition = target.getBoundingClientRect().toJSON();\n\t\tconst data = { startX: startingPosition.x, startY: startingPosition.y, node: target };\n\t\tthis.props.onDragStart && this.props.onDragStart(e, data);\n\t\tthis.dragging = true;\n\n\t\tconst deltaX = Math.abs(target.offsetLeft - e.clientX);\n\t\tconst deltaY = Math.abs(target.offsetTop - e.clientY);\n\n\t\tconst onDrag = (e) => {\n\t\t\tif (this.dragging) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tconst currentPosition = {\n\t\t\t\t\tleft: e.clientX - deltaX,\n\t\t\t\t\ttop: e.clientY - deltaY\n\t\t\t\t};\n\t\t\t\tconst data = { startX: startingPosition.left, startY: startingPosition.top, currentX: currentPosition.left, currentY: currentPosition.top, node: target };\n\t\t\t\tthis.props.onDrag && this.props.onDrag(e, data);\n\t\t\t\tthis.setState({\n\t\t\t\t\tleft: currentPosition.left,\n\t\t\t\t\ttop: currentPosition.top\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tconst onDragEnd = (e) => {\n\t\t\tif (this.dragging) {\n\t\t\t\tconst endPosition = {\n\t\t\t\t\tleft: e.clientX - deltaX,\n\t\t\t\t\ttop: e.clientY - deltaY\n\t\t\t\t};\n\t\t\t\tconst data = { startX: startingPosition.left, startY: startingPosition.top, endX: endPosition.left, endY: endPosition.top, node: target };\n\t\t\t\tthis.props.onDragEnd && this.props.onDragEnd(e, data);\n\t\t\t\tdocument.removeEventListener('mousemove', onDrag);\n\t\t\t\tdocument.removeEventListener('mouseup', onDragEnd);\n\t\t\t\tthis.dragging = false;\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('mousemove', onDrag);\n\t\tdocument.addEventListener('mouseup', onDragEnd);\n\t}\n\n\tshortcutHandler(e) {\n\t\tif (!e.shiftKey && !e.ctrlKey && e.key === 'ArrowRight') {\n\t\t\tthis.setState({\n\t\t\t\tleft: this.state.left + 1\n\t\t\t});\n\t\t} else if (e.shiftKey && !e.ctrlKey && e.key === 'ArrowRight') {\n\t\t\tthis.setState({\n\t\t\t\tleft: this.state.left + 10\n\t\t\t});\n\t\t} else if (!e.shiftKey && !e.ctrlKey && e.key === 'ArrowLeft') {\n\t\t\tthis.setState({\n\t\t\t\tleft: this.state.left - 1\n\t\t\t});\n\t\t} else if (e.shiftKey && !e.ctrlKey && e.key === 'ArrowLeft') {\n\t\t\tthis.setState({\n\t\t\t\tleft: this.state.left - 10\n\t\t\t});\n\t\t} else if (!e.shiftKey && !e.ctrlKey && e.key === 'ArrowUp') {\n\t\t\tthis.setState({\n\t\t\t\ttop: this.state.top - 1\n\t\t\t});\n\t\t} else if (e.shiftKey && !e.ctrlKey && e.key === 'ArrowUp') {\n\t\t\tthis.setState({\n\t\t\t\ttop: this.state.top - 10\n\t\t\t});\n\t\t} else if (!e.shiftKey && !e.ctrlKey && e.key === 'ArrowDown') {\n\t\t\tthis.setState({\n\t\t\t\ttop: this.state.top + 1\n\t\t\t});\n\t\t} else if (e.shiftKey && !e.ctrlKey && e.key === 'ArrowDown') {\n\t\t\tthis.setState({\n\t\t\t\ttop: this.state.top + 10\n\t\t\t});\n\t\t} else if (e.ctrlKey && !e.shiftKey && e.key === 'ArrowRight') {\n\t\t\tthis.setState({\n\t\t\t\twidth: this.state.width + 1\n\t\t\t});\n\t\t} else if (e.ctrlKey && e.shiftKey && e.key === 'ArrowRight') {\n\t\t\tthis.setState({\n\t\t\t\twidth: this.state.width + 10\n\t\t\t});\n\t\t} else if (e.ctrlKey && !e.shiftKey && e.key === 'ArrowLeft') {\n\t\t\tthis.setState({\n\t\t\t\twidth: this.state.width - 1\n\t\t\t});\n\t\t} else if (e.ctrlKey && e.shiftKey && e.key === 'ArrowLeft') {\n\t\t\tthis.setState({\n\t\t\t\twidth: this.state.width - 10\n\t\t\t});\n\t\t} else if (e.ctrlKey && !e.shiftKey && e.key === 'ArrowDown') {\n\t\t\tthis.setState({\n\t\t\t\theight: this.state.height + 1\n\t\t\t});\n\t\t} else if (e.ctrlKey && e.shiftKey && e.key === 'ArrowDown') {\n\t\t\tthis.setState({\n\t\t\t\theight: this.state.height + 10\n\t\t\t});\n\t\t} else if (e.ctrlKey && !e.shiftKey && e.key === 'ArrowUp') {\n\t\t\tthis.setState({\n\t\t\t\theight: this.state.height - 1\n\t\t\t});\n\t\t} else if (e.ctrlKey && e.shiftKey && e.key === 'ArrowUp') {\n\t\t\tthis.setState({\n\t\t\t\theight: this.state.height - 10\n\t\t\t});\n\t\t}\n\t}\n\n\tonResizeStart(e) {\n\t\tconst { target } = e;\n\t\tconst data = { node: target.parentNode };\n\t\tconst startingDimensions = target.parentNode.getBoundingClientRect().toJSON();\n\t\tthis.props.onResizeStart && this.props.onResizeStart(e, data);\n\t\tthis.resizing = true;\n\n\t\tconst onResize = (e) => {\n\t\t\tif (this.resizing) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tif (target.id === 'br') {\n\t\t\t\t\tconst currentDimensions = {\n\t\t\t\t\t\twidth: e.clientX - startingDimensions.left,\n\t\t\t\t\t\theight: e.clientY - startingDimensions.top\n\t\t\t\t\t};\n\n\t\t\t\t\tconst data = { currentWidth: currentDimensions.width, currentHeight: currentDimensions.height, node: target.parentNode };\n\t\t\t\t\tthis.props.onResize && this.props.onResize(e, data);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\twidth: currentDimensions.width,\n\t\t\t\t\t\theight: currentDimensions.height\n\t\t\t\t\t});\n\t\t\t\t} else if (target.id === 'bl') {\n\t\t\t\t\tconst deltaX = startingDimensions.left - e.clientX;\n\t\t\t\t\tconst deltaY = startingDimensions.top + startingDimensions.height - e.clientY;\n\t\t\t\t\tconst currentDimensions = {\n\t\t\t\t\t\twidth: startingDimensions.width + deltaX,\n\t\t\t\t\t\theight: startingDimensions.height - deltaY\n\t\t\t\t\t};\n\n\t\t\t\t\tconst currentPosition = {\n\t\t\t\t\t\ttop: startingDimensions.top,\n\t\t\t\t\t\tleft: startingDimensions.left - deltaX\n\t\t\t\t\t};\n\n\t\t\t\t\tconst data = { currentWidth: currentDimensions.width, currentHeight: currentDimensions.height, node: target.parentNode };\n\t\t\t\t\tthis.props.onResize && this.props.onResize(e, data);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\twidth: currentDimensions.width,\n\t\t\t\t\t\theight: currentDimensions.height,\n\t\t\t\t\t\ttop: currentPosition.top,\n\t\t\t\t\t\tleft: currentPosition.left\n\t\t\t\t\t});\n\t\t\t\t} else if (target.id === 'tr') {\n\t\t\t\t\tconst deltaX = e.clientX - startingDimensions.left;\n\t\t\t\t\tconst deltaY = startingDimensions.top - e.clientY;\n\t\t\t\t\tconst currentDimensions = {\n\t\t\t\t\t\twidth: deltaX,\n\t\t\t\t\t\theight: startingDimensions.height + deltaY\n\t\t\t\t\t};\n\n\t\t\t\t\tconst currentPosition = {\n\t\t\t\t\t\ttop: startingDimensions.top - deltaY,\n\t\t\t\t\t\tleft: startingDimensions.left\n\t\t\t\t\t};\n\n\t\t\t\t\tconst data = { currentWidth: currentDimensions.width, currentHeight: currentDimensions.height, node: target.parentNode };\n\t\t\t\t\tthis.props.onResize && this.props.onResize(e, data);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\twidth: currentDimensions.width,\n\t\t\t\t\t\theight: currentDimensions.height,\n\t\t\t\t\t\ttop: currentPosition.top,\n\t\t\t\t\t\tleft: currentPosition.left\n\t\t\t\t\t});\n\t\t\t\t} else if (target.id === 'tl') {\n\t\t\t\t\tconst deltaX = startingDimensions.left - e.clientX;\n\t\t\t\t\tconst deltaY = startingDimensions.top - e.clientY;\n\t\t\t\t\tconst currentDimensions = {\n\t\t\t\t\t\twidth: startingDimensions.width + deltaX,\n\t\t\t\t\t\theight: startingDimensions.height + deltaY\n\t\t\t\t\t};\n\n\t\t\t\t\tconst currentPosition = {\n\t\t\t\t\t\ttop: startingDimensions.top - deltaY,\n\t\t\t\t\t\tleft: startingDimensions.left - deltaX\n\t\t\t\t\t};\n\t\t\t\t\tconst data = { currentWidth: currentDimensions.width, currentHeight: currentDimensions.height, node: target.parentNode };\n\t\t\t\t\tthis.props.onResize && this.props.onResize(e, data);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\twidth: currentDimensions.width,\n\t\t\t\t\t\theight: currentDimensions.height,\n\t\t\t\t\t\ttop: currentPosition.top,\n\t\t\t\t\t\tleft: currentPosition.left\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst onResizeEnd = (e) => {\n\t\t\tif (this.resizing) {\n\t\t\t\tdocument.removeEventListener('mousemove', onResize);\n\t\t\t\tdocument.removeEventListener('mouseup', onResizeEnd);\n\n\t\t\t\tconst parentNode = e.target.parentNode;\n\t\t\t\tconst dimensions = parentNode.getBoundingClientRect().toJSON();\n\t\t\t\tconst data = { finalWidth: dimensions.width, finalHeight: dimensions.height, finalTop: dimensions.top, finalLeft: dimensions.left, node: parentNode };\n\t\t\t\tthis.props.onResizeEnd && this.props.onResizeEnd(e, data);\n\t\t\t\tthis.resizing = false;\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('mousemove', onResize);\n\t\tdocument.addEventListener('mouseup', onResizeEnd);\n\t}\n\n\trender() {\n\t\tconst { id, isSelected } = this.props;\n\t\tconst boxClassNames = isSelected ? `${styles.box} ${styles.selected}` : styles.box;\n\t\tconst boxStyles = {\n\t\t\twidth: `${this.state.width}px`,\n\t\t\theight: `${this.state.height}px`,\n\t\t\ttop: `${this.state.top}px`,\n\t\t\tleft: `${this.state.left}px`\n\t\t};\n\n\t\treturn <div\n\t\t\tclassName={boxClassNames}\n\t\t\tid={id}\n\t\t\tonMouseUp={this.props.selectBox}\n\t\t\tonMouseDown={this.onDragStart}\n\t\t\tonKeyUp={this.shortcutHandler}\n\t\t\tonKeyDown={this.shortcutHandler}\n\t\t\tref={this.box}\n\t\t\tstyle={boxStyles}\n\t\t\ttabIndex=\"0\"\n\t\t>\n\t\t\t{\n\t\t\t\tisSelected ?\n\t\t\t\t\tRESIZE_HANDLES.map(handle => {\n\t\t\t\t\t\tconst className = `${styles.resizeHandle} ${styles[`resize-${handle}`]}`;\n\t\t\t\t\t\treturn <div key={shortid.generate()} className={className} onMouseDown={this.onResizeStart} id={handle} />\n\t\t\t\t\t}) :\n\t\t\t\t\tnull\n\t\t\t}\n\t\t</div>;\n\t}\n}\n\nBox.propTypes = {\n\tdefaultPosition: PropTypes.object.isRequired,\n\tid: PropTypes.string,\n\tisSelected: PropTypes.bool,\n\tdrag: PropTypes.bool,\n\tresize: PropTypes.bool,\n\trotate: PropTypes.bool,\n\tkeybindings: PropTypes.bool,\n\tonRotateStart: PropTypes.func,\n\tonRotate: PropTypes.func,\n\tonRotateEnd: PropTypes.func,\n\tonResizeStart: PropTypes.func,\n\tonResize: PropTypes.func,\n\tonResizeEnd: PropTypes.func,\n\tonDragStart: PropTypes.func,\n\tonDrag: PropTypes.func,\n\tonDragEnd: PropTypes.func\n};\n\nexport default Box;","export const calculateGuidePositions = (dimensions, axis) => {\n\tif (axis === 'x') {\n\t\tconst start = dimensions.left;\n\t\tconst middle = dimensions.left + parseInt(dimensions.width / 2, 10);\n\t\tconst end = dimensions.left + dimensions.width;\n\n\t\treturn [ start, middle, end ];\n\t} else {\n\t\tconst start = dimensions.top;\n\t\tconst middle = dimensions.top + parseInt(dimensions.height / 2, 10);\n\t\tconst end = dimensions.top + dimensions.height;\n\n\t\treturn [ start, middle, end ];\n\t}\n};\n\nexport const proximityListener = (active, allGuides) => {\n\tconst xAxisGuidesForActiveBox = allGuides[active].x;\n\tconst yAxisGuidesForActiveBox = allGuides[active].y;\n\n\tconst xAxisAllGuides = getAllGuidesForGivenAxisExceptActiveBox(allGuides, xAxisGuidesForActiveBox, 'x');\n\tconst yAxisAllGuides = getAllGuidesForGivenAxisExceptActiveBox(allGuides, yAxisGuidesForActiveBox, 'y');\n\tconst xAxisMatchedGuides = checkValueProximities(xAxisGuidesForActiveBox, xAxisAllGuides);\n\tconst yAxisMatchedGuides = checkValueProximities(yAxisGuidesForActiveBox, yAxisAllGuides);\n\n\tconst allMatchedGuides = {};\n\n\tif (xAxisMatchedGuides.proximity) {\n\t\tallMatchedGuides.x = {\n\t\t\t...xAxisMatchedGuides,\n\t\t\tactiveBoxGuides: xAxisGuidesForActiveBox\n\t\t};\n\t}\n\n\tif (yAxisMatchedGuides.proximity) {\n\t\tallMatchedGuides.y = {\n\t\t\t...yAxisMatchedGuides,\n\t\t\tactiveBoxGuides: yAxisGuidesForActiveBox,\n\t\t};\n\t}\n\n\treturn allMatchedGuides;\n};\n\nexport const getAllGuidesForGivenAxisExceptActiveBox = (allGuides, guidesForActiveBoxAlongGivenAxis, axis) => {\n\tconst result = Object.keys(allGuides).map(box => {\n\t\tconst currentBoxGuidesAlongGivenAxis = allGuides[box][axis];\n\t\tif (currentBoxGuidesAlongGivenAxis !== guidesForActiveBoxAlongGivenAxis) {\n\t\t\treturn currentBoxGuidesAlongGivenAxis;\n\t\t}\n\t});\n\n\treturn result.filter(guides => guides !== undefined);\n};\n\nexport const checkValueProximities = (activeBoxGuidesInOneAxis, allOtherGuidesInOneAxis) => {\n\tlet proximity = null;\n\tlet intersection = null;\n\tlet matchedArray = [];\n\tconst snapThreshold = 5;\n\tfor (let index = 0; index < allOtherGuidesInOneAxis.length; index += 1) {\n\t\tlet index2 = 0;\n\t\tlet index3 = 0;\n\n\t\twhile (index2 < activeBoxGuidesInOneAxis.length && index3 < allOtherGuidesInOneAxis[index].length) {\n\t\t\tconst diff = Math.abs(activeBoxGuidesInOneAxis[index2] - allOtherGuidesInOneAxis[index][index3]);\n\t\t\tif (diff <= snapThreshold) {\n\t\t\t\tproximity = { value: diff, activeBoxIndex: index2, matchedBoxIndex: index3 };\n\t\t\t\tmatchedArray = allOtherGuidesInOneAxis[index];\n\t\t\t\tintersection = allOtherGuidesInOneAxis[index][index3];\n\t\t\t}\n\n\t\t\tif (activeBoxGuidesInOneAxis[index2] < allOtherGuidesInOneAxis[index][index3]) {\n\t\t\t\tindex2 += 1;\n\t\t\t} else {\n\t\t\t\tindex3 += 1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { matchedArray, proximity, intersection };\n};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport shortid from 'shortid';\nimport Box from './Box';\nimport { calculateGuidePositions, proximityListener } from './utils/helpers';\nimport styles from './styles.scss';\n\n// Dummy position data to generate the boxes\n// const POS_DATA = [\n// \t{ x: 0, y: 0, width: 400, height: 200, top: 0, left: 0 },\n// \t{ x: 650, y: 300, width: 300, height: 150, top: 550, left: 650 },\n// \t{ x: 300, y: 250, width: 150, height: 350, top: 250, left: 300 }\n// ];\n\nclass AlignmentGuides extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.boundingBox = React.createRef();\n\t\tthis.state = {\n\t\t\tactive: '',\n\t\t\tboundingBoxDimensions: null,\n\t\t\tboxes: {},\n\t\t\tguides: {},\n\t\t\tguidesActive: false,\n\t\t\tmatch: {}\n\t\t};\n\t\tthis.onDragHandler = this.onDragHandler.bind(this);\n\t\tthis.selectBox = this.selectBox.bind(this);\n\t\tthis.unSelectBox = this.unSelectBox.bind(this);\n\t\tthis.resizeEndHandler = this.resizeEndHandler.bind(this);\n\t\tthis.deactivateGuides = this.deactivateGuides.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\t// Set the dimensions of the bounding box and the draggable boxes when the component mounts.\n\t\tif (this.boundingBox.current && this.state.boundingBoxDimensions === null) {\n\t\t\tconst boundingBoxDimensions = this.boundingBox.current.getBoundingClientRect().toJSON();\n\t\t\tconst boxes = {};\n\t\t\tconst guides = {};\n\n\t\t\t// Adding the guides for the bounding box to the guides object\n\t\t\tguides.boundingBox = {\n\t\t\t\tx: calculateGuidePositions(boundingBoxDimensions, 'x'),\n\t\t\t\ty: calculateGuidePositions(boundingBoxDimensions, 'y')\n\t\t\t};\n\n\t\t\t// POS_DATA is only for testing. The position array will be supplied by the user.\n\t\t\tthis.props.boxes.forEach((dimensions, index) => {\n\t\t\t// POS_DATA.forEach((dimensions, index) => {\n\t\t\t\tboxes[`box${index}`] = dimensions;\n\t\t\t\tguides[`box${index}`] = {\n\t\t\t\t\tx: calculateGuidePositions(dimensions, 'x'),\n\t\t\t\t\ty: calculateGuidePositions(dimensions, 'y')\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tthis.setState({\n\t\t\t\tboundingBoxDimensions,\n\t\t\t\tboxes,\n\t\t\t\tguides\n\t\t\t});\n\t\t}\n\t}\n\n\tonDragHandler(e, data) {\n\t\tconst dimensions = Object.assign({}, this.state.boxes[data.node.id], {\n\t\t\tleft: data.currentX,\n\t\t\ttop: data.currentY\n\t\t});\n\t\tthis.props.onDrag && this.props.onDrag(e, data);\n\t\tthis.setState({\n\t\t\tactive: data.node.id,\n\t\t\tguidesActive: true,\n\t\t\tboxes: Object.assign({}, this.state.boxes, {\n\t\t\t\t[data.node.id]: Object.assign({}, this.state.boxes[data.node.id], {\n\t\t\t\t\tleft: data.currentX,\n\t\t\t\t\ttop: data.currentY\n\t\t\t\t})\n\t\t\t}),\n\t\t\tguides: Object.assign({}, this.state.guides, {\n\t\t\t\t[data.node.id]: Object.assign({}, this.state.guides[data.node.id], {\n\t\t\t\t\tx: calculateGuidePositions(dimensions, 'x'),\n\t\t\t\t\ty: calculateGuidePositions(dimensions, 'y')\n\t\t\t\t})\n\t\t\t})\n\t\t}, () => {\n\t\t\tconst match = proximityListener(this.state.active, this.state.guides);\n\t\t\tlet newActiveBoxLeft = this.state.boxes[this.state.active].left;\n\t\t\tlet newActiveBoxTop = this.state.boxes[this.state.active].top;\n\t\t\tfor (let axis in match) {\n\t\t\t\tconst { activeBoxGuides, matchedArray, proximity } = match[axis];\n\t\t\t\tconst activeBoxProximityIndex = proximity.activeBoxIndex;\n\t\t\t\tconst matchedBoxProximityIndex = proximity.matchedBoxIndex;\n\n\t\t\t\tif (axis === 'x') {\n\t\t\t\t\tif (activeBoxGuides[activeBoxProximityIndex] > matchedArray[matchedBoxProximityIndex]) {\n\t\t\t\t\t\tnewActiveBoxLeft = this.state.boxes[this.state.active].left - proximity.value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewActiveBoxLeft = this.state.boxes[this.state.active].left + proximity.value;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (activeBoxGuides[activeBoxProximityIndex] > matchedArray[matchedBoxProximityIndex]) {\n\t\t\t\t\t\tnewActiveBoxTop = this.state.boxes[this.state.active].top - proximity.value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewActiveBoxTop = this.state.boxes[this.state.active].top + proximity.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst boxes = Object.assign({}, this.state.boxes, {\n\t\t\t\t[this.state.active]: Object.assign({}, this.state.boxes[this.state.active], {\n\t\t\t\t\tleft: newActiveBoxLeft,\n\t\t\t\t\ttop: newActiveBoxTop\n\t\t\t\t})\n\t\t\t});\n\t\t\tconst guides = Object.assign({}, this.state.guides, {\n\t\t\t\t[this.state.active]: Object.assign({}, this.state.guides[this.state.active], {\n\t\t\t\t\tx: calculateGuidePositions(boxes[this.state.active], 'x'),\n\t\t\t\t\ty: calculateGuidePositions(boxes[this.state.active], 'y')\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.setState({\n\t\t\t\tboxes,\n\t\t\t\tguides,\n\t\t\t\tmatch\n\t\t\t});\n\t\t});\n\t}\n\n\tselectBox(e) {\n\t\tthis.setState({\n\t\t\tactive: e.target.id\n\t\t});\n\t}\n\n\tunSelectBox(e) {\n\t\tthis.setState({\n\t\t\tactive: ''\n\t\t})\n\t}\n\n\tresizeEndHandler(e, data) {\n\t\tthis.setState({\n\t\t\tboxes: Object.assign({}, this.state.boxes, {\n\t\t\t\t[this.state.active]: Object.assign({}, this.state.boxes[this.state.active], {\n\t\t\t\t\twidth: data.finalWidth,\n\t\t\t\t\theight: data.finalHeight,\n\t\t\t\t\ttop: data.finalTop,\n\t\t\t\t\tleft: data.finalLeft\n\t\t\t\t})\n\t\t\t})\n\t\t});\n\t}\n\n\tdeactivateGuides(e, data) {\n\t\tthis.setState({\n\t\t\tguidesActive: false\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { active, boxes, guides } = this.state;\n\n\t\t// Create the draggable boxes from the position data\n\t\tconst draggableBoxes = Object.keys(boxes).map((box, index) => {\n\t\t\tconst position = boxes[box];\n\t\t\tconst id = `box${index}`;\n\n\t\t\treturn <Box\n\t\t\t\t{...this.props}\n\t\t\t\tdefaultPosition={position}\n\t\t\t\tid={id}\n\t\t\t\tisSelected={active === id}\n\t\t\t\tkey={shortid.generate()}\n\t\t\t\tonDrag={this.onDragHandler}\n\t\t\t\tonDragEnd={this.deactivateGuides}\n\t\t\t\tselectBox={this.selectBox}\n\t\t\t\tonResizeEnd={this.resizeEndHandler}\n\t\t\t/>\n\t\t});\n\n\t\t// Create a guide(s) when the following conditions are met:\n\t\t// 1. A box aligns with another (top, center or bottom)\n\t\t// 2. An edge of a box touches any of the edges of another box\n\t\t// 3. A box aligns vertically or horizontally with the bounding box\n\t\tconst xAxisGuides = Object.keys(guides).reduce((result, box) => {\n\t\t\tconst guideClassNames = this.state.guidesActive ? `${styles.guide} ${styles.xAxis} ${styles.active}` : `${styles.guide} ${styles.xAxis}`;\n\t\t\tconst xAxisGuidesForCurrentBox = guides[box].x.map(position => {\n\t\t\t\tif (\n\t\t\t\t\tthis.state.active &&\n\t\t\t\t\tthis.state.active === box &&\n\t\t\t\t\tthis.state.match &&\n\t\t\t\t\tthis.state.match.x &&\n\t\t\t\t\tthis.state.match.x.intersection &&\n\t\t\t\t\tthis.state.match.x.intersection === position\n\t\t\t\t) {\n\t\t\t\t\treturn <div key={shortid.generate()} className={guideClassNames} style={{ left: position }} />;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result.concat(xAxisGuidesForCurrentBox);\n\t\t}, []);\n\n\t\tconst yAxisGuides = Object.keys(guides).reduce((result, box) => {\n\t\t\tconst guideClassNames = this.state.guidesActive ? `${styles.guide} ${styles.yAxis} ${styles.active}` : `${styles.guide} ${styles.yAxis}`;\n\t\t\tconst yAxisGuidesForCurrentBox = guides[box].y.map(position => {\n\t\t\t\tif (\n\t\t\t\t\tthis.state.active &&\n\t\t\t\t\tthis.state.active === box &&\n\t\t\t\t\tthis.state.match &&\n\t\t\t\t\tthis.state.match.y &&\n\t\t\t\t\tthis.state.match.y.intersection &&\n\t\t\t\t\tthis.state.match.y.intersection === position\n\t\t\t\t) {\n\t\t\t\t\treturn <div key={shortid.generate()} className={guideClassNames} style={{ top: position }} />\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result.concat(yAxisGuidesForCurrentBox);\n\t\t}, []);\n\n\t\treturn <div ref={this.boundingBox} className={styles.boundingBox} style={{ width: '100vw', height: '100vh' }}>\n\t\t\t{draggableBoxes}\n\t\t\t{xAxisGuides}\n\t\t\t{yAxisGuides}\n\t\t</div>;\n\t}\n}\n\nAlignmentGuides.propTypes = {\n\tdrag: PropTypes.bool,\n\tresize: PropTypes.bool,\n\trotate: PropTypes.bool,\n\tkeybindings: PropTypes.bool,\n\tonRotateStart: PropTypes.func,\n\tonRotate: PropTypes.func,\n\tonRotateEnd: PropTypes.func,\n\tonResizeStart: PropTypes.func,\n\tonResize: PropTypes.func,\n\tonResizeEnd: PropTypes.func,\n\tonDragStart: PropTypes.func,\n\tonDrag: PropTypes.func,\n\tonDragEnd: PropTypes.func\n};\n\nexport default AlignmentGuides;","'use strict';\n\n// import React from 'react';\n// import ReactDOM from 'react-dom';\nimport AlignmentGuides from './AlignmentGuides';\n\nexport default AlignmentGuides;\n\n// ReactDOM.render(\n// \t<AlignmentGuides />,\n// \tdocument.getElementById('root')\n// );"],"names":["setSeed","crypto","require$$0","random","alphabet","generate","clusterWorkerId","build","RESIZE_HANDLES","Box","props","state","width","position","defaultPosition","height","top","left","dragging","resizing","box","React","createRef","onDragStart","bind","shortcutHandler","onResizeStart","e","target","startingPosition","getBoundingClientRect","toJSON","data","startX","x","startY","y","node","deltaX","Math","abs","offsetLeft","clientX","deltaY","offsetTop","clientY","onDrag","stopImmediatePropagation","currentPosition","currentX","currentY","setState","onDragEnd","endPosition","endX","endY","document","removeEventListener","addEventListener","shiftKey","ctrlKey","key","parentNode","startingDimensions","onResize","id","currentDimensions","currentWidth","currentHeight","onResizeEnd","dimensions","finalWidth","finalHeight","finalTop","finalLeft","isSelected","boxClassNames","styles","selected","boxStyles","selectBox","map","handle","className","resizeHandle","shortid","Component","propTypes","PropTypes","object","isRequired","string","bool","drag","resize","rotate","keybindings","onRotateStart","func","onRotate","onRotateEnd","calculateGuidePositions","axis","start","middle","parseInt","end","proximityListener","active","allGuides","xAxisGuidesForActiveBox","yAxisGuidesForActiveBox","xAxisAllGuides","getAllGuidesForGivenAxisExceptActiveBox","yAxisAllGuides","xAxisMatchedGuides","checkValueProximities","yAxisMatchedGuides","allMatchedGuides","proximity","activeBoxGuides","guidesForActiveBoxAlongGivenAxis","result","Object","keys","currentBoxGuidesAlongGivenAxis","filter","guides","undefined","activeBoxGuidesInOneAxis","allOtherGuidesInOneAxis","intersection","matchedArray","snapThreshold","index","length","index2","index3","diff","value","activeBoxIndex","matchedBoxIndex","AlignmentGuides","boundingBox","boundingBoxDimensions","boxes","guidesActive","match","onDragHandler","unSelectBox","resizeEndHandler","deactivateGuides","current","forEach","assign","newActiveBoxLeft","newActiveBoxTop","activeBoxProximityIndex","matchedBoxProximityIndex","draggableBoxes","xAxisGuides","reduce","guideClassNames","guide","xAxis","xAxisGuidesForCurrentBox","concat","yAxisGuides","yAxis","yAxisGuidesForCurrentBox"],"mappings":"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"}